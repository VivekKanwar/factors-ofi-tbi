---
title: "Opportunities for improvement in the care of adult patients with traumatic brain injury"
format: html
author: "Vivek Kanwar"
bibliography: bibliography.bib
csl: vancouver.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


<!-- This is an R Markdown document. Markdown is a simple formatting
syntax for authoring HTML, PDF, and MS Word documents. For more
details on using R Markdown see http://rmarkdown.rstudio.com -->

<!-- This is a comment and will not be present in the compiled
document. Try "knitting" this document by clicking the knit button up
to the left, or by running `rmarkdown::render("manuscript.Rmd")` in
the console and you should only see headings -->

<!-- Structure and most comments are from the Strengthening the
reporting of observational studies in epidemiology (STROBE) statement,
see https://www.strobe-statement.org/. For more explanations see the
paper Strengthening the Reporting of Observational Studies in
Epidemiology (STROBE):explanation and elaboration.  -->

<!-- Indicate the study’s design with a commonly used term in the
title, for example: "Associations between resuscitation interventions
and opportunities for improvement in adult trauma patients: A cohort
study" -->

# Abstract

## Background

Traumatic brain injury (TBI) is a major cause of death and disability worldwide. Trauma quality improvement programmes use “opportunities for improvement” (OFIs) to identify deviations from optimal care, but OFI patterns in adult TBI remain poorly described. 

Aims: To estimate the frequency of OFIs in adult TBI care, describe the patient and process factors of cases with OFIs, and examine which of these patient and process factors are associated with OFI occurrence. 
## Methods

A registry-based retrospective cohort study was conducted at Karolinska University Hospital, Stockholm, using the local trauma registry (2012–2023) linked to the hospital’s trauma quality database. Adult TBI patients were identified via Abbreviated Injury Scale (AIS) head injury codes. The outcome was the presence of ≥1 OFI (yes/no) as determined by a standardised multidisciplinary review process. Patient and process variables (e.g. demographics, injury severity, vital signs, care processes) were analysed. Descriptive statistics and logistic regression (complete-case) were used to assess associations with OFIs. 

## Results

OFIs were identified in 7.7% of TBI patients (167/2181). In adjusted analyses, OFI occurrence was independently associated with higher Injury Severity Score (adjusted odds ratio [aOR] 1.05 per point, 95% confidence interval [CI] 1.03–1.07), higher Revised Trauma Score (aOR 1.32 per point, 95% CI 1.03–1.72), admission to a high-dependency unit (HDU) compared to the emergency department (aOR 3.50, 95% CI 1.30–11.13), and longer hospital stay (aOR 1.02 per day, 95% CI 1.00–1.04). 
## Conclusion

OFIs were relatively uncommon, appearing in a minority of adult TBI cases, but clustered among patients with a high anatomical injury burden, seemingly stable physiology, intermediate care (HDU) admission, and prolonged hospitalisation. These patterns suggest that targeted quality improvement efforts may be particularly relevant for TBI patients with complex care courses and those who appear physiologically stable despite substantial injuries

# Introduction 

<!-- Explain the scientific background and rationale for the
investigation being reported. End by stating the aim or specific
objectives, including any prespecified hypotheses. The introduction
should not be longer than 1-1.5 pages, typically 4-5 paragraphs, each
6-8 lines long. Support every statement with a citation -->

Traumatic injury is a major global health problem and a leading cause of death and disability, particularly among people younger than 45 years (1). Within this burden, traumatic brain injury (TBI) accounts for a large proportion of trauma-related mortality and long-term neurological impairment and has been highlighted as a priority area for trauma systems (2,3). TBI arises when external forces cause acute neurological impairment and initiate both primary structural damage and secondary pathophysiological cascades, including oedema, ischemia and metabolic disturbances, which develop over time and critically influence long-term outcomes (4,5).

Despite advances in TBI care guidelines, the heterogeneous and dynamic nature of TBI makes care particularly susceptible to delays, omissions and deviations from optimal practice (5,7,13).  Previous studies have shown that preventable errors and delays, such as missed injuries or delayed interventions, occur in general trauma cohorts and contribute to mortality even in high-performing trauma centres (3,20–23). Retrospective reviews specifically suggest that a share of TBI-related deaths is preventable or potentially preventable with optimal care (24,25).

To address such vulnerabilities in trauma cohorts, trauma quality improvement programmes (TQIPs) systematically identify “opportunities for improvement” (OFI), defined as deviations from optimal care that may have contributed to adverse outcomes or preventable harm (17-19). The World Health Organisation (WHO) and the American College of Surgeons (ACS) provide guidance on how these programmes should be organised, emphasising continuous, multidisciplinary review of trauma cases and feedback to clinicians (18,19).

TBI remains a challenge in modern systems because even small deviations from optimal practice can markedly worsen outcomes. However, most OFI research has focused on general trauma populations, leaving TBI-specific patterns and determinants undercharacterised, and recent work suggests that patients with TBI remain at risk of OFIs (26). As such, this study aimed to determine whether OFIs occurred in the care of adult trauma patients with TBI and, if so, to quantify their frequency, describe the patient and process characteristics of cases with OFI, and examine whether patient- and process-related factors were associated with their occurrence.

# Methods

## Study design

<!-- Present key elements of study design -->
A single-centre, registry-based retrospective cohort study was conducted at Karolinska University Hospital in Solna, Stockholm (NKS) using the local trauma registry. This registry is part of the Swedish National Trauma Registry (SweTrau) and follows the Utstein template for uniform reporting after major trauma (27). Patients are included in the register if trauma team activation has occurred, regardless of injury severity, or if they have a New Injury Severity Score (NISS) > 15 without a trauma team activation. This register was then linked to the local trauma quality improvement database, which contained the OFI outcome for each trauma patient. Linkage was performed using the Swedish personal identity number, after which trauma registry variables and quality review outcomes were extracted into a combined dataset for analysis of patient and process factors associated with OFI.

## Setting

<!-- Describe the setting, locations, and relevant dates, including
periods of recruitment, exposure, follow-up, and data collection -->
NKS is Sweden’s largest provider of advanced trauma care and the designated Level 1 trauma centre for the greater Stockholm region according to the ACS criteria, with continuous access to neurosurgery, general and orthopaedic surgery, anaesthesia, and diagnostic and interventional radiology (29,30). To support systematic trauma quality improvement, a structured process for identifying OFIs in trauma care was implemented in 2013. Early screening targeted selected cases using a limited set of audit filters and clinician judgement. From 2017 onwards, a standardised set of audit filters was applied systematically, and case review was expanded to include senior clinicians and nursing staff from relevant specialities and professions. Flagged cases were reviewed in multidisciplinary peer-review meetings with OFIs defined as preventable events or deviations from accepted standards of care. To reduce subjectivity, the final OFI adjudication was determined by consensus and documented irrespective of outcome in the local trauma quality improvement database.

## Participants

<!-- Cohort study: Give the eligibility criteria, and the sources and
methods of selection of participants. Describe methods of
follow-up. For matched studies, give matching criteria and number of
exposed and unexposed -->

<!-- Case-control study: Give the eligibility criteria, and the
sources and + methods of case ascertainment and control
selection. Give the rationale for the choice of cases and
controls. For matched studies, give matching criteria and the number
of controls per case -->

<!-- Cross-sectional study: Give the eligibility criteria, and the
sources and methods of selection of participants -->
Included in the study were all adult patients with TBI recorded in the Karolinska trauma registry between 2012 and 2023 who had a documented OFI screening outcome. TBI was defined using AIS head-region codes (1xxxx.x). Inclusion was independent of admission destination or highest level of care. Patients younger than 18 years were excluded because paediatric trauma pathways and quality review procedures differ. A complete-case approach was applied, excluding patients with missing data in variables required for the analyses.

## Variables and data sources/measurements

<!-- Clearly define all outcomes, exposures, predictors, potential
confounders, and effect modifiers. Give diagnostic criteria, if
applicable. For each variable of interest, give sources of data and
details of methods of assessment (measurement). Describe comparability
of assessment methods if there is more than one group -->
### Outcome 
The outcome of this study was the presence of one or more OFIS during the care of TBI patients. OFIS were adjudicated, as mentioned, after a screening process with audit filters and peer reviews. OFIs reflect deviations from accepted or safe standards of care, such as missed diagnoses, delays in treatment, or resource-related shortcomings. Following peer review, the final decision for each case was recorded in the trauma quality improvement database and coded as a binary outcome, “Yes - At least one OFI identified” and “No - No OFI identified”.

### Patient factors and processes
Variables chosen for analysis were those from the trauma registry with reference to locally used audit filters, established epidemiological factors, and routine SweTrau reporting. Given that several of the measures in the register reflect overlapping clinical constructs, a limited set of varibles were chosen to limit collinearity and improve estimate stability. Categorical variables comprised sex, arrival during on-call hours (outside 08:00–17:00 on weekdays or any time on weekends), highest in-hospital level of care, intubation status, injury type, ASA class, and mechanical ventilation. Continuous variables comprised age, Injury Severity Score (ISS), Revised Trauma Score (RTS), hospital length of stay, and time to first CT (10 min intervals). RTS was derived from the prospectively recorded emergency department Glasgow Coma Scale (GCS), systolic blood pressure (SBP), and respiratory rate (RR) using published coefficients (32). Certain continuous variables were categorised into clinically meaningful groups to facilitate descriptive statistics and analyses. 

## Bias

<!-- Describe any efforts to address potential sources of bias -->

## Study size

<!-- Explain how the study size was arrived at -->

## Quantitative variables

<!-- Explain how quantitative variables were handled in the
analyses. If applicable, describe which groupings were chosen and why
-->


## Statistical methods

<!-- 

(a) Describe all statistical methods, including those used to control
for confounding

(b) Describe any methods used to examine subgroups and interactions

(c) Explain how missing data were addressed 

(d) 

Cohort study: If applicable, explain how loss to follow-up was addressed 

Case-control study:If applicable, explain how matching of cases and
controls was addressed

Cross-sectional study: If applicable, describe analytical methods
taking account of sampling strategy

(e) Describe any sensitivity analyses
-->
Descriptive analyses summarised patient and process characteristics overall and by OFI status, reporting medians (IQR) for continuous variables and n (%) for categorical variables. Group differences were assessed using the Wilcoxon rank-sum test for continuous data and χ² or Fisher’s exact tests for categorical data, as appropriate. 

Associations between patient and process characteristics and OFI were examined using logistic regression, with bivariable models estimating unadjusted effects and a multivariable model including all variables to obtain adjusted estimates. Results were presented as odds ratios (OR) with 95% confidence intervals (CI), with p < 0.05 indicating statistical significance. All analyses were conducted in R.


# Results

## Participants

<!-- (a) Report numbers of individuals at each stage of study—eg numbers
potentially eligible, examined for eligibility, confirmed eligible,
included in the study, completing follow-up, and analysed

(b) Give reasons for non-participation at each stage

(c) Consider use of a flow diagram -->


```{r flowchart, echo=FALSE}

library(glue)
library(DiagrammeRsvg)
source("main.R") ## This "imports" the main script file of your project and run any code in it

# Flowchart figure -----------------------------------------------------------

# ---- Counts for intermediate steps -----------------------------------------
n_excl_step1 <- n_total_merged_data - n_TBI_only_data
n_excl_step2 <- n_under18 + n_no_ofi

# ---- Labels ----------------------------------------------------------------
label_A <- glue(
  "Trauma registry 2012–2023\n",
  "n = {n_total_merged_data}"
)

label_B <- glue(
  "Identified TBI using AIS 1xxxxx.x\n",
  "n = {n_TBI_only_data}"
)

label_C <- glue(
  "Eligible adult TBI patients\n",
  "with OFI outcome\n",
  "n = {n_eligible}"
)

label_D <- glue(
  "Included (final analytic cohort)\n",
  "n = {n_final} adult TBI patients\n",
  "- OFI: {n_ofi} ({round(100 * n_ofi / n_final, 1)}%)\n",
  "- No OFI: {n_final - n_ofi}"
)

label_excl1 <- glue( 
  "Excluded (n = {n_excl_step1}):\n",
  "- No TBI according to AIS code"
  )

label_excl2 <- glue(
  "Excluded (n = {n_excl_step2}):\n",
  "- Age < 18 years: {n_under18}\n",
  "- No OFI outcome: {n_no_ofi}"
)

label_excl3 <- glue(
  "Excluded: missing data\n",
  "in covariates (n = {n_missing_cc})"
)

# ---- Producing the figure with exclusion boxes ------------------------------

g <- grViz(glue("
digraph TBI_flow {{

  graph [
    rankdir = TB,
    splines = ortho
  ]

  node [
    shape = box,
    style = rounded,
    fontname = 'Times New Roman',
    fontsize = 12,
    width = 3
  ]

  edge [
    arrowhead = normal
  ]

  // Main vertical line
  A [label = '{label_A}']
  B [label = '{label_B}']
  C [label = '{label_C}']
  D [label = '{label_D}']

  // Side exclusion boxes
  E1 [label = '{label_excl1}']
  E2 [label = '{label_excl2}']
  E3 [label = '{label_excl3}']

  // Invisible junction nodes on the vertical line
  J1 [shape=point, width=0.001, label=\"\", style=invis]
  J2 [shape=point, width=0.001, label=\"\", style=invis]
  J3 [shape=point, width=0.001, label=\"\", style=invis]

  // Main vertical line
  A -> J1 [arrowhead=none] 
  J1 -> B       
  B -> J2 [arrowhead=none] 
  J2 -> C 
  C -> J3 [arrowhead=none]
  J3 -> D
  
  // Branching arrows from the vertical line to exclusions
  J1 -> E1
  J2 -> E2
  J3 -> E3

  // Keep exclusions horizontally aligned with the junctions
  {{rank=same; J1; E1}}
  {{rank=same; J2; E2}}
  {{rank=same; J3; E3}}

}}
"))

# ---- Export (SVG + PNG) ----
svg_txt <- DiagrammeRsvg::export_svg(g)

out_svg <- file.path("assets", "flowchart.svg")
out_png <- file.path("assets", "flowchart.png")

cat(svg_txt, file = out_svg)
rsvg_png(out_svg, file = out_png, width = 1600, height = 2600)

```

![**Figure 1. Flowchart of patient selection for the analytical cohort**](assets/flowchart.png)

## Descriptive data

<!--  
(a) Give characteristics of study participants (eg demographic,
clinical, social) and information on exposures and potential
confounders

(b) Indicate number of participants with missing data for each
variable of interest

(c) Cohort study — Summarise follow-up time (eg, average and total
amount)
-->
```{r}
Descriptive.table1
```
## Outcome data

<!--  
Cohort study — Report numbers of outcome events or summary measures
over time

Case-control study — Report numbers in each exposure category, or
summary measures of exposure

Cross-sectional study — Report numbers of outcome events or summary
measures
-->

##  Main results

<!--  
(a) Give unadjusted estimates and, if applicable, confounder-adjusted
estimates and their precision (eg, 95% confidence interval). Make
clear which confounders were adjusted for and why they were included

(b) Report category boundaries when continuous variables were
categorized

(c) If relevant, consider translating estimates of relative risk into
absolute risk for a meaningful time period
-->

```{r}
Merged.Table
```

## Other analyses 

<!--  
Report other analyses done—eg analyses of subgroups and interactions,
and sensitivity analyses 
-->


You can include code in this document like this:

```{r main, echo=FALSE}
source("main.R") ## This "imports" the main script file of your project and run any code in it
```

You can also embed plots:

```{r plot, echo=FALSE}
plot(pressure)
```

You can also mix text and code, so called inline code, like this: `r 2+5`.

# Discussion

## Key results

<!--
Summarise key results with reference to study objectives
-->

## Limitations

<!--
Discuss limitations of the study, taking into account sources of
potential bias or imprecision.  Discuss both direction and magnitude
of any potential bias
-->

## Interpretation

<!--
Give a cautious overall interpretation of results considering
objectives, limitations, multiplicity of analyses, results from
similar studies, and other relevant evidence
-->

## Generalisability

<!-- Discuss the generalisability (external validity) of the study results -->

# Conclusion

<!-- Give a short conclusion, corresponding to the aim -->

# References

<!-- Do not edit by hand, references will be inserted and formatted automatically once you knit this document -->
